# FIN_TECH_EZ_SQL
SQL queries designed for Fin-Tech Business applications
CREATE DATABASE testDB;
GO

USE testDB;
GO

CREATE TABLE TRADES(
DATES date,
FIRM varchar(4),
SYMBOL varchar(4),
SIDE varchar(1),
QUANTITY int,
PRICE int
)

INSERT INTO TRADES
VALUES('2/3/2014' , '1ABC','A123','B',200,41),
('2/4/2014' , '2BCD','B234','B',600,60),
('2/7/2014' , '1ABC','C345','S',600,70),
('2/10/2014' , '3CDE','C345','S',600,70),
('2/12/2014' , '4DEF','B234','B',200,62),
('2/14/2014' , '3CDE','B234','B',300,61),
('2/21/2014' , '1ABC','A123','B',300,40),
('2/24/2014' , '1ABC','A123','S',300,30),
('2/25/2014' , '4DEF','C345','B',2100,71),
('2/27/2014' , 'CDE','B234','S',1100,63);

SELECT * FROM TRADES

/* 1. SYMBOL A123 HAS DECREASED IN PRICE FROM 41 TO 30
SYMBOL B234 HAS INCREASED FROM 60 TO 63
SYMBOL C345 HAS INCREASED FROM 70 TO 71
FIRM 1ABC SOLD BACK STOCKS AT A LOSS OF $3K PURCHASED 3 DAYS AGO */

/*2Ai.*/
SELECT DISTINCT SYMBOL FROM TRADES

/*2Bi.*/
SELECT DISTINCT FIRM, SYMBOL FROM TRADES

/*2Ca.*/

select FIRM, SYMBOL, count(*) as Counted

from TRADES

group by FIRM, SYMBOL

/*3. For each firm,
their symbol they traded,
total dollar volume that they traded in that symbol*/



/* A. BR# BUSINESS REQUIREMENT   FUNCTIONAL SPECIFICATION
1      FOR EACH FIRM AND THE SYMBOL THEY TRADED       SELECT THE FIRM AND THE GROUP. GROUP BY FIRM AND SYMBOL
2      TOTAL DOLLAR VOLUME THAT THEY TRADED IN THAT SYMBOL    SUM THE QUANTITY TIMES THE PRICE OF EACH OF THOSE INDIVIDUAL FIRMS AND THE SYMBOLS THEY TRADED AND DISPLAY IN THE SELECT STATEMENT AS TOTAL_DOLLAR_VOLUME*/

/* B.  Assumption is that dollar values for sale and buy are both positive so as to quantify all of the dollars spent in the trade*/
Select FIRM, SYMBOL, SUM(QUANTITY*PRICE) AS TOTAL_DOLLAR_VOLUME
FROM TRADES
GROUP BY FIRM, SYMBOL


DROP DATABASE testDB ;  
GO  



